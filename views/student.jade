extends layout

block extraHeader
    script(type='text/javascript', src="https://code.highcharts.com/highcharts.js")
    script(type='text/javascript', src="https://code.highcharts.com/modules/heatmap.js")
    script(type='text/javascript', src="https://code.highcharts.com/modules/exporting.js") 

block content
  h1 Student 
  h3 #{student.id}
  h4
    a(href='/student/#{student.id}/hints') Hint History  
  div#container(style="min-width: 500px; height: 500px; margin: 0 auto")
    script.
        $(function() {
            var myChart = null;   
            
            function updateChart() {
                $.getJSON("/api/student/#{student.id}?view=concept-heatmap", function(options) {
                    if (myChart != null) {
                        myChart.destroy();
                    }            
                    myChart = Highcharts.chart('container', options);
                });
            }
            updateChart();
        });
  div
    table.table.table-striped
        thead
            tr
            th Id          
            th Description
        tbody
            for concept in concepts
                tr
                    td #{concept.Id}                                  
                    td #{concept.Description}